<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>File Management</title>
<script type="text/javascript" src="simpletreemenu.js">
	
</script>

<link rel="stylesheet" type="text/css" href="simpletree.css" />
</head>
<body onload="readTextFile('filegoogle.json');">
	<div id="content">
		<ul id="treemenu" class="treeview">
			<li>Item 1</li>

			<li>Folder 1
				<ul>
					<li>Sub Item 1.1</li>
					<li>Folder 1.1
						<ul>
							<li>Sub Item 1.1.1</li>
							<li>Sub Item 1.1.2</li>
							<li>Folder 1.1.1
								<ul>
									<li>Sub item 1.1.1.1</li>
									<li>Sub item 1.1.1.2</li>
									<li>Sub item 1.1.1.3</li>
									<li>Sub item 1.1.1.4</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</li>

			<li>Item 2</li>
		</ul>
	</div>
	<script type="text/javascript">
		function readTextFile(file) {
			var rawFile = new XMLHttpRequest();
			rawFile.open("GET", file, false);
			rawFile.onreadystatechange = function() {
				if (rawFile.readyState === 4) {
					if (rawFile.status === 200 || rawFile.status == 0) {
						var allText = rawFile.responseText;
						readJSON(allText);
					}
				}
			}
			rawFile.send(null);
		}
		
		function readJSON(data) {
			var json = JSON.parse(data);
			var listitem = json.items;
			var content='';
			
			var index = 0;
			var len=listitem.length;
			for (index = 0; index < len; ++index) {
			    content = content + '<li>' + listitem[index].title + '</li>';
			}
			document.getElementById("treemenu").innerHTML = content;
		}
		ddtreemenu.createTree("treemenu", false);
	</script>
</body>

</html>